<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Carousel Slider</title>
  <style>
    .carousel {
      display: flex;
      width: 600px;
      margin: 0 auto;
    }
    .carousel > div {
      flex: 1;
      text-align: center;
      cursor: pointer;
      border: 1px solid #ccc;
      padding: 10px;
    }
    .current-project {
      border: 2px solid blue;
    }
    .carousel img {
      max-width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

  <!-- Разметка карусели -->
  <div class="carousel">
    <div class="next-project" onclick="slide(this)">
      <img src="./assets/biamino.png" alt="Biamino">
    </div>
    <div class="current-project" onclick="slide(this)">
      <img src="./assets/sneakercare/1.jpg" alt="SneakerCare">
    </div>
    <div class="next-project" onclick="slide(this)">
      <img src="./assets/php_app.png" alt="PHP App">
    </div>
  </div>

  <script>
    // Массив проектов в нужном циклическом порядке:
    // gifty.png → game.png → app.png → shop.png → biamino.png
    const projects = [
      { src: './assets/gifty.png', alt: 'Gifty' },
      { src: './assets/game.png', alt: 'Game' },
      { src: './assets/app.png', alt: 'App' },
      { src: './assets/shop.png', alt: 'Shop' },
      { src: './assets/biamino.png', alt: 'Biamino' }
    ];

    // Изначальный индекс центрального проекта (например, game.png – индекс 1)
    let currentIndex = 1;

    // Функция для обновления содержимого слайдов
    function updateSlides() {
      const carousel = document.querySelector('.carousel');
      const slides = carousel.children;
      
      // Расчёт верхнего и нижнего индексов по циклу
      const topIndex = (currentIndex - 1 + projects.length) % projects.length;
      const bottomIndex = (currentIndex + 1) % projects.length;
      
      if (slides[0]) {
        slides[0].innerHTML = `<img src="${projects[topIndex].src}" alt="${projects[topIndex].alt}">`;
      }
      if (slides[1]) {
        slides[1].innerHTML = `<img src="${projects[currentIndex].src}" alt="${projects[currentIndex].alt}">`;
      }
      if (slides[2]) {
        slides[2].innerHTML = `<img src="${projects[bottomIndex].src}" alt="${projects[bottomIndex].alt}">`;
      }
      
      // Назначаем классы для стилизации
      slides[0].className = "next-project";
      slides[1].className = "current-project";
      slides[2].className = "next-project";
    }

    // Функция, вызываемая при клике на слайд (вызывается из HTML через onclick="slide(this)")
    window.slide = function(clickedElement) {
      const carousel = document.querySelector('.carousel');
      const slides = Array.from(carousel.children);
      const clickedIndex = slides.indexOf(clickedElement);
      
      // Если кликнули по центральному слайду — ничего не делаем
      if (clickedIndex === 1) return;
      
      // Если клик по верхнему слайду (индекс 0) — прокрутка назад
      if (clickedIndex === 0) {
        currentIndex = (currentIndex - 1 + projects.length) % projects.length;
      }
      // Если клик по нижнему слайду (индекс 2) — прокрутка вперёд
      else if (clickedIndex === 2) {
        currentIndex = (currentIndex + 1) % projects.length;
      }
      
      updateSlides();
    };

    // Инициализация слайдера после загрузки DOM
    document.addEventListener('DOMContentLoaded', () => {
      updateSlides();
    });
  </script>
</body>
</html>
